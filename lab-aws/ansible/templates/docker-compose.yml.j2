services:
  web:
    image: nginx:{{ nginx_version }}
    container_name: {{ website_container_name }}
    restart: {{ restart_policy }}
    ports:
      - "{{ host_port }}:{{ container_port }}"
    volumes:
      - {{ app_install_dir }}/index.html:/usr/share/nginx/html/index.html:ro
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:{{ container_port }}"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 5s
